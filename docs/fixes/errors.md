## Console Errors

contentScript.js:3 Content script loaded.
runtime-core.esm-bundler.js?v=5fd1738b:7060 <Suspense> is an experimental feature and its API will likely change.
devtools.client.js?v=5fd1738b:52 ✨ Nuxt DevTools  Press Shift + Option + D to open DevTools 
preview-queries.vue:277 Page initialized with: {clientId: 'd201f8dd-5957-4160-8f31-6015976cdfc1', platform: 'both', keywords: Proxy(Array)}
preview-queries.vue:182 Generating queries for: {clientId: 'd201f8dd-5957-4160-8f31-6015976cdfc1', keywords: Proxy(Array)}
preview-queries.vue:194 Generate queries response: {success: true, queries: Array(10), total: 10, client: {…}}
preview-queries.vue:229 Running analysis with: {client_id: 'd201f8dd-5957-4160-8f31-6015976cdfc1', platform: 'both', queries: 1}
analysis/preview-queries?client_id=d201f8dd-5957-4160-8f31-6015976cdfc1&platform=both&keywords=knak+super+mega+alterantives:1 Access to fetch at 'https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
preview-queries.vue:236 
            
            
           POST https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis net::ERR_FAILED 504 (Gateway Timeout)
fetchWithRetry @ fetch-retry.js?v=5fd1738b:5
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
preview-queries.vue:236 Retrying fetch attempt 2 for request: https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis
overrideMethod @ hook.js:608
fetchWithRetry @ fetch-retry.js?v=5fd1738b:14
await in fetchWithRetry
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
analysis/preview-queries?client_id=d201f8dd-5957-4160-8f31-6015976cdfc1&platform=both&keywords=knak+super+mega+alterantives:1 Access to fetch at 'https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
preview-queries.vue:236 
            
            
           POST https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis net::ERR_FAILED 504 (Gateway Timeout)
fetchWithRetry @ fetch-retry.js?v=5fd1738b:5
await in fetchWithRetry
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
preview-queries.vue:236 Retrying fetch attempt 3 for request: https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis
overrideMethod @ hook.js:608
fetchWithRetry @ fetch-retry.js?v=5fd1738b:14
await in fetchWithRetry
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
analysis/preview-queries?client_id=d201f8dd-5957-4160-8f31-6015976cdfc1&platform=both&keywords=knak+super+mega+alterantives:1 Access to fetch at 'https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
preview-queries.vue:236 
            
            
           POST https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis net::ERR_FAILED 504 (Gateway Timeout)
fetchWithRetry @ fetch-retry.js?v=5fd1738b:5
await in fetchWithRetry
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
preview-queries.vue:236 Error fetching request https://trmaeodthlywcjwfzdka.supabase.co/functions/v1/run-custom-analysis TypeError: Failed to fetch
    at fetchWithRetry (fetch-retry.js?v=5fd1738b:5:20) {method: 'POST', headers: Headers, body: '{"client_id":"d201f8dd-5957-4160-8f31-6015976cdfc1…om","generated_at":"2025-05-20T13:23:12.161Z"}}]}'}
overrideMethod @ hook.js:608
fetchWithRetry @ fetch-retry.js?v=5fd1738b:11
await in fetchWithRetry
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2659
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2680
fulfilled @ @supabase_supabase-js.js?v=5fd1738b:2632
Promise.then
step @ @supabase_supabase-js.js?v=5fd1738b:2645
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2647
__awaiter6 @ @supabase_supabase-js.js?v=5fd1738b:2629
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:2670
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:22
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:142
(anonymous) @ @supabase_supabase-js.js?v=5fd1738b:92
__awaiter @ @supabase_supabase-js.js?v=5fd1738b:74
invoke @ @supabase_supabase-js.js?v=5fd1738b:116
runAnalysis @ preview-queries.vue:236
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
preview-queries.vue:244 Run analysis response: null
preview-queries.vue:247 Analysis error: FunctionsFetchError: Failed to send a request to the Edge Function
    at @supabase_supabase-js.js?v=5fd1738b:151:17
overrideMethod @ hook.js:608
runAnalysis @ preview-queries.vue:247
await in runAnalysis
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720
preview-queries.vue:260 Error running analysis: FunctionsFetchError: Failed to send a request to the Edge Function
    at @supabase_supabase-js.js?v=5fd1738b:151:17
overrideMethod @ hook.js:608
runAnalysis @ preview-queries.vue:260
await in runAnalysis
callWithErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:197
callWithAsyncErrorHandling @ runtime-core.esm-bundler.js?v=5fd1738b:204
invoker @ runtime-dom.esm-bundler.js?v=5fd1738b:720

## run-custom-analysis errors
{
  "event_message": "Error parsing process-query response for \"What are some good alternatives to Knak for no-code email creation?\": SyntaxError: Unexpected end of JSON input\n    at parse (<anonymous>)\n    at packageData (ext:deno_fetch/22_body.js:381:14)\n    at consumeBody (ext:deno_fetch/22_body.js:247:12)\n    at eventLoopTick (ext:core/01_core.js:168:7)\n    at async processQuery (file:///tmp/user_fn_trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23/index.ts:206:27)\n    at async Server.<anonymous> (file:///tmp/user_fn_trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23/index.ts:119:13)\n    at async #respond (https://deno.land/std@0.168.0/http/server.ts:221:18)\n",
  "id": "2e0bf6f1-0ef6-4f0b-85f4-72f152a98dda",
  "metadata": [
    {
      "boot_time": null,
      "cpu_time_used": null,
      "deployment_id": "trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23",
      "event_type": "Log",
      "execution_id": "8b0213fc-2ebb-4bea-8f29-5e10673ab4ad",
      "function_id": "58ca22db-959a-4d36-a020-e2ea1bc32083",
      "level": "error",
      "memory_used": [],
      "project_ref": "trmaeodthlywcjwfzdka",
      "reason": null,
      "region": "ca-central-1",
      "served_by": "supabase-edge-runtime-1.67.3 (compatible with Deno v1.45.2)",
      "timestamp": "2025-05-20T13:30:58.410Z",
      "version": "23"
    }
  ],
  "timestamp": 1747747861016664
}

{
  "event_message": "Error processing query \"What are some good alternatives to Knak for no-code email creation?\": Error: Failed to process query: Unexpected end of JSON input\n    at processQuery (file:///tmp/user_fn_trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23/index.ts:214:11)\n    at eventLoopTick (ext:core/01_core.js:168:7)\n    at async Server.<anonymous> (file:///tmp/user_fn_trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23/index.ts:119:13)\n    at async #respond (https://deno.land/std@0.168.0/http/server.ts:221:18)\n",
  "id": "8b89cd88-347e-4af4-bb36-d3b681e1c1e4",
  "metadata": [
    {
      "boot_time": null,
      "cpu_time_used": null,
      "deployment_id": "trmaeodthlywcjwfzdka_58ca22db-959a-4d36-a020-e2ea1bc32083_23",
      "event_type": "Log",
      "execution_id": "8b0213fc-2ebb-4bea-8f29-5e10673ab4ad",
      "function_id": "58ca22db-959a-4d36-a020-e2ea1bc32083",
      "level": "error",
      "memory_used": [],
      "project_ref": "trmaeodthlywcjwfzdka",
      "reason": null,
      "region": "ca-central-1",
      "served_by": "supabase-edge-runtime-1.67.3 (compatible with Deno v1.45.2)",
      "timestamp": "2025-05-20T13:30:58.410Z",
      "version": "23"
    }
  ],
  "timestamp": 1747747861016832
}

## process-query errors

{
  "event_message": "Failed to analyze citation https://www.sendinblue.com/features/email-marketing/: Database error: Could not find the 'crawl_error' column of 'page_analyses' in the schema cache\n",
  "id": "507ff0ba-622f-45dc-b256-54ef6d5833d4",
  "metadata": [
    {
      "boot_time": null,
      "cpu_time_used": null,
      "deployment_id": "trmaeodthlywcjwfzdka_9fc71a23-ea35-4e53-94ec-f1a91f997f5a_18",
      "event_type": "Log",
      "execution_id": "b0c482e1-3d4c-48bc-b0c4-bd2e0f1c7af4",
      "function_id": "9fc71a23-ea35-4e53-94ec-f1a91f997f5a",
      "level": "error",
      "memory_used": [],
      "project_ref": "trmaeodthlywcjwfzdka",
      "reason": null,
      "region": "ca-central-1",
      "served_by": "supabase-edge-runtime-1.67.3 (compatible with Deno v1.45.2)",
      "timestamp": "2025-05-20T13:29:21.509Z",
      "version": "18"
    }
  ],
  "timestamp": 1747747766026345
}